---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "checkly_check_group Resource - terraform-provider-checkly"
subcategory: ""
description: |-
  Check groups allow  you to group together a set of related checks, which can also share default settings for various attributes.
---

# checkly_check_group (Resource)

Check groups allow  you to group together a set of related checks, which can also share default settings for various attributes.

## Example Usage

```terraform
resource "checkly_check_group" "test_group1" {
  name      = "My test group 1"
  activated = true
  muted     = false
  tags = [
    "auto"
  ]

  locations = [
    "eu-west-1",
  ]
  concurrency = 3
  api_check_defaults {
    url = "http://example.com/"
    headers = {
      X-Test = "foo"
    }

    query_parameters = {
      query = "foo"
    }

    assertion {
      source     = "STATUS_CODE"
      property   = ""
      comparison = "EQUALS"
      target     = "200"
    }

    assertion {
      source     = "TEXT_BODY"
      property   = ""
      comparison = "CONTAINS"
      target     = "welcome"
    }

    basic_auth {
      username = "user"
      password = "pass"
    }
  }
  environment_variables = {
    ENVTEST = "Hello world"
  }
  double_check              = true
  use_global_alert_settings = false

  alert_settings {
    escalation_type = "RUN_BASED"

    run_based_escalation {
      failed_run_threshold = 1
    }

    time_based_escalation {
      minutes_failing_threshold = 5
    }

    reminders {
      amount   = 2
      interval = 5
    }
  }
  local_setup_script    = "setup-test"
  local_teardown_script = "teardown-test"
}

# Add a check to a group
resource "checkly_check" "test_check1" {
  name                      = "My test check 1"

  group_id    = checkly_check_group.test_group1.id
  group_order = 1
}


# Using with alert channels
resource "checkly_alert_channel" "email_ac1" {
  email {
    address = "info@example.com"
  }
}

resource "checkly_alert_channel" "email_ac2" {
  email {
    address = "info2@example.com"
  }
}


# Connect the check group to the alert channels
resource "checkly_check_group" "test_group1" {
  name      = "My test group 1"

  alert_channel_subscription {
    channel_id = checkly_alert_channel.email_ac1.id
    activated  = true
  }

  alert_channel_subscription {
    channel_id = checkly_alert_channel.email_ac2.id
    activated  = true
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `activated` (Boolean) Determines if the checks in the group are running or not.
- `concurrency` (Number) Determines how many checks are run concurrently when triggering a check group from CI/CD or through the API.
- `name` (String) The name of the check group.

### Optional

- `alert_channel_subscription` (Block List) (see [below for nested schema](#nestedblock--alert_channel_subscription))
- `alert_settings` (Block Set, Max: 1) (see [below for nested schema](#nestedblock--alert_settings))
- `api_check_defaults` (Block Set, Max: 1) (see [below for nested schema](#nestedblock--api_check_defaults))
- `double_check` (Boolean) Setting this to `true` will trigger a retry when a check fails from the failing region and another, randomly selected region before marking the check as failed.
- `environment_variable` (Block List) Key/value pairs for setting environment variables during check execution, add locked = true to keep value hidden. These are only relevant for browser checks. Use global environment variables whenever possible. (see [below for nested schema](#nestedblock--environment_variable))
- `environment_variables` (Map of String, Deprecated) Key/value pairs for setting environment variables during check execution. These are only relevant for browser checks. Use global environment variables whenever possible.
- `local_setup_script` (String) A valid piece of Node.js code to run in the setup phase of an API check in this group.
- `local_teardown_script` (String) A valid piece of Node.js code to run in the teardown phase of an API check in this group.
- `locations` (Set of String) An array of one or more data center locations where to run the checks.
- `muted` (Boolean) Determines if any notifications will be sent out when a check in this group fails and/or recovers.
- `private_locations` (Set of String) An array of one or more private locations slugs.
- `runtime_id` (String) The id of the runtime to use for this group.
- `setup_snippet_id` (Number) An ID reference to a snippet to use in the setup phase of an API check.
- `tags` (Set of String) Tags for organizing and filtering checks.
- `teardown_snippet_id` (Number) An ID reference to a snippet to use in the teardown phase of an API check.
- `use_global_alert_settings` (Boolean) When true, the account level alert settings will be used, not the alert setting defined on this check group.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--alert_channel_subscription"></a>
### Nested Schema for `alert_channel_subscription`

Required:

- `activated` (Boolean)
- `channel_id` (Number)


<a id="nestedblock--alert_settings"></a>
### Nested Schema for `alert_settings`

Optional:

- `escalation_type` (String) Determines what type of escalation to use. Possible values are `RUN_BASED` or `TIME_BASED`.
- `reminders` (Block Set) (see [below for nested schema](#nestedblock--alert_settings--reminders))
- `run_based_escalation` (Block Set) (see [below for nested schema](#nestedblock--alert_settings--run_based_escalation))
- `ssl_certificates` (Block Set, Deprecated) (see [below for nested schema](#nestedblock--alert_settings--ssl_certificates))
- `time_based_escalation` (Block Set) (see [below for nested schema](#nestedblock--alert_settings--time_based_escalation))

<a id="nestedblock--alert_settings--reminders"></a>
### Nested Schema for `alert_settings.reminders`

Optional:

- `amount` (Number) How many reminders to send out after the initial alert notification. Possible values are `0`, `1`, `2`, `3`, `4`, `5`, and `100000`
- `interval` (Number) Possible values are `5`, `10`, `15`, and `30`. (Default `5`).


<a id="nestedblock--alert_settings--run_based_escalation"></a>
### Nested Schema for `alert_settings.run_based_escalation`

Optional:

- `failed_run_threshold` (Number) After how many failed consecutive check runs an alert notification should be sent. Possible values are between 1 and 5. (Default `1`).


<a id="nestedblock--alert_settings--ssl_certificates"></a>
### Nested Schema for `alert_settings.ssl_certificates`

Optional:

- `alert_threshold` (Number) At what moment in time to start alerting on SSL certificates. Possible values `3`, `7`, `14`, `30`. (Default `3`).
- `enabled` (Boolean) Determines if alert notifications should be sent for expiring SSL certificates.


<a id="nestedblock--alert_settings--time_based_escalation"></a>
### Nested Schema for `alert_settings.time_based_escalation`

Optional:

- `minutes_failing_threshold` (Number) After how many minutes after a check starts failing an alert should be sent. Possible values are `5`, `10`, `15`, and `30`. (Default `5`).



<a id="nestedblock--api_check_defaults"></a>
### Nested Schema for `api_check_defaults`

Required:

- `url` (String) The base url for this group which you can reference with the `GROUP_BASE_URL` variable in all group checks.

Optional:

- `assertion` (Block Set) (see [below for nested schema](#nestedblock--api_check_defaults--assertion))
- `basic_auth` (Block Set, Max: 1) (see [below for nested schema](#nestedblock--api_check_defaults--basic_auth))
- `headers` (Map of String)
- `query_parameters` (Map of String)

<a id="nestedblock--api_check_defaults--assertion"></a>
### Nested Schema for `api_check_defaults.assertion`

Required:

- `comparison` (String) The type of comparison to be executed between expected and actual value of the assertion. Possible values `EQUALS`, `NOT_EQUALS`, `HAS_KEY`, `NOT_HAS_KEY`, `HAS_VALUE`, `NOT_HAS_VALUE`, `IS_EMPTY`, `NOT_EMPTY`, `GREATER_THAN`, `LESS_THAN`, `CONTAINS`, `NOT_CONTAINS`, `IS_NULL`, and `NOT_NULL`.
- `source` (String) The source of the asserted value. Possible values `STATUS_CODE`, `JSON_BODY`, `HEADERS`, `TEXT_BODY`, and `RESPONSE_TIME`.
- `target` (String)

Optional:

- `property` (String)


<a id="nestedblock--api_check_defaults--basic_auth"></a>
### Nested Schema for `api_check_defaults.basic_auth`

Required:

- `password` (String)
- `username` (String)



<a id="nestedblock--environment_variable"></a>
### Nested Schema for `environment_variable`

Required:

- `key` (String)
- `value` (String)

Optional:

- `locked` (Boolean)


